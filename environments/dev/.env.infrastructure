# Infrastructure Environment Configuration - Development
# This file contains environment-specific settings for AWS CDK infrastructure

# Environment
ENVIRONMENT=dev
CDK_DEFAULT_ACCOUNT=418272766513
CDK_DEFAULT_REGION=us-east-1

# Application Configuration
APP_NAME=echoes
APP_DOMAIN=dev.echoes.app
API_DOMAIN=api-dev.echoes.app
MOBILE_DOMAIN=mobile-dev.echoes.app

# VPC Configuration
VPC_CIDR=10.0.0.0/16
ENABLE_DNS_HOSTNAMES=true
ENABLE_DNS_SUPPORT=true
MAX_AZS=2

# S3 Configuration
AUDIO_BUCKET_NAME=echoes-audio-dev
WEB_BUCKET_NAME=echoes-web-dev
MOBILE_BUCKET_NAME=echoes-mobile-dev
BACKUP_BUCKET_NAME=echoes-backups-dev
VERSIONING_ENABLED=true
LIFECYCLE_RULES_ENABLED=true
TRANSITION_TO_IA_DAYS=30
TRANSITION_TO_GLACIER_DAYS=90
EXPIRATION_DAYS=2555
PUBLIC_READ_ACCESS=false

# DynamoDB Configuration
DYNAMODB_TABLE_NAME=EchoesTable-dev
DYNAMODB_BILLING_MODE=PAY_PER_REQUEST
DYNAMODB_POINT_IN_TIME_RECOVERY=true
DYNAMODB_REMOVAL_POLICY=DESTROY
DYNAMODB_GSI_COUNT=3

# Cognito Configuration
USER_POOL_NAME=echoes-users-dev
USER_POOL_CLIENT_NAME=echoes-client-dev
IDENTITY_POOL_NAME=echoes-identity-dev
MFA_ENABLED=false
EMAIL_VERIFICATION=true
USERNAME_ATTRIBUTES="email"
PASSWORD_POLICY_MIN_LENGTH=8
PASSWORD_POLICY_REQUIRE_UPPERCASE=true
PASSWORD_POLICY_REQUIRE_LOWERCASE=true
PASSWORD_POLICY_REQUIRE_NUMBERS=true
PASSWORD_POLICY_REQUIRE_SYMBOLS=false

# Lambda Configuration
LAMBDA_RUNTIME=python3.11
LAMBDA_TIMEOUT_SECONDS=30
LAMBDA_MEMORY_SIZE=256
LAMBDA_RESERVED_CONCURRENCY=100
LAMBDA_PROVISIONED_CONCURRENCY=0
ENABLE_XRAY_TRACING=true
ENABLE_LAMBDA_INSIGHTS=true

# API Gateway Configuration
API_STAGE_NAME=dev
API_THROTTLE_RATE_LIMIT=1000
API_THROTTLE_BURST_LIMIT=2000
API_CACHING_ENABLED=false
API_CACHE_TTL_SECONDS=300
CORS_ALLOWED_ORIGINS="*"
CORS_ALLOWED_METHODS="GET,POST,PUT,DELETE,OPTIONS"
CORS_ALLOWED_HEADERS="*"

# CloudFront Configuration
CLOUDFRONT_PRICE_CLASS=PriceClass_100
CLOUDFRONT_CACHE_BEHAVIORS=standard
CLOUDFRONT_COMPRESSION=true
CLOUDFRONT_HTTP_VERSION=http2
CLOUDFRONT_IPV6=true
CLOUDFRONT_WAF_ENABLED=false

# SNS/SQS Configuration
NOTIFICATION_TOPIC_NAME=echoes-notifications-dev
QUEUE_NAME=echoes-queue-dev
QUEUE_VISIBILITY_TIMEOUT_SECONDS=300
QUEUE_MESSAGE_RETENTION_SECONDS=1209600
DLQ_MAX_RECEIVE_COUNT=3

# EventBridge Configuration
EVENT_BUS_NAME=echoes-events-dev
EVENT_RULE_STATE=ENABLED

# CloudWatch Configuration
LOG_RETENTION_DAYS=7
ALARM_EMAIL=dev-alerts@echoes.app
ENABLE_DETAILED_MONITORING=true

# Backup Configuration
BACKUP_PLAN_NAME=echoes-backup-dev
BACKUP_SCHEDULE="cron(0 2 * * ? *)"
BACKUP_RETENTION_DAYS=30
BACKUP_COLD_STORAGE_DAYS=90

# Security Configuration
KMS_KEY_ALIAS=alias/echoes-dev
ENABLE_S3_ENCRYPTION=true
ENABLE_DYNAMODB_ENCRYPTION=true
ENABLE_LAMBDA_ENCRYPTION=true
SECRET_ROTATION_DAYS=90

# Auto Scaling Configuration
DYNAMODB_MIN_READ_CAPACITY=1
DYNAMODB_MAX_READ_CAPACITY=100
DYNAMODB_MIN_WRITE_CAPACITY=1
DYNAMODB_MAX_WRITE_CAPACITY=100
DYNAMODB_TARGET_UTILIZATION=70

# Cost Management
BUDGET_LIMIT_USD=100
BUDGET_ALERT_THRESHOLD=80
COST_ALLOCATION_TAGS="Environment=dev,Project=echoes,Owner=dev-team"

# DNS Configuration
HOSTED_ZONE_NAME=echoes.app
CREATE_HOSTED_ZONE=false
SSL_CERTIFICATE_VALIDATION=DNS

# Monitoring & Alerting
ENABLE_CLOUDTRAIL=true
ENABLE_CONFIG=false
ENABLE_GUARDDUTY=false
ENABLE_SECURITY_HUB=false
CUSTOM_METRICS_NAMESPACE=Echoes/Dev

# Development Features
ENABLE_VPC_FLOW_LOGS=false
ENABLE_WAF=false
ENABLE_SHIELD_ADVANCED=false
ENABLE_SECRETS_MANAGER=true
DESTROY_POLICY=ALLOW

# CDK Bootstrap Configuration
CDK_QUALIFIER=echoesdev
CDK_TOOLKIT_STACK_NAME=CDKToolkit-echoes-dev